{% extends "base.html" %}

{% block title %}{{ page.title }} - PowerBI Portal{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h2>{{ page.title }}</h2>
        <a href="{{ url_for('main.index') }}" class="btn btn-sm btn-primary">
            <i class="fas fa-arrow-left"></i> Back to Home
        </a>
    </div>
    <div class="card-body">
        {% if page.description %}
        <p class="mb-3">{{ page.description }}</p>
        {% endif %}
        
        <div class="powerbi-container" id="powerbi-container">
            <!-- PowerBI report will be embedded here -->
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Embed PowerBI report
        embedPowerBIReport('{{ page.powerbi_embed_url }}', 'powerbi-container');
    });
</script>
{% endblock %}
